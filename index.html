<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ë°ë¸”ìŠ¤í”Œëœ2 ê¸°ì‚¬ì˜ ì—¬í–‰ ê²Œì„ - ì§ì ‘ í”Œë ˆì´ & ê³µëµ (PWA)</title>

  <meta name="description" content="ë°ë¸”ìŠ¤í”Œëœ2 í™”ì œì˜ 'ê¸°ì‚¬ì˜ ì—¬í–‰' í¼ì¦ ê²Œì„ì„ ì›¹ì—ì„œ ì§ì ‘ ì¦ê²¨ë³´ì„¸ìš”! ë‹¤ì–‘í•œ ì²´ìŠ¤íŒ í¬ê¸°(5x5~8x8), ì›ŒìŠ¤ë„í”„ ê·œì¹™ ê¸°ë°˜ íŒíŠ¸, ë’¤ë¡œ ê°€ê¸°, PWA ì•± ì„¤ì¹˜ ì§€ì›. ì§€ê¸ˆ ë°”ë¡œ ë„ì „í•˜ê³  ê³µëµí•´ë³´ì„¸ìš”!">
  <meta name="keywords" content="ë°ë¸”ìŠ¤í”Œëœ2, ê¸°ì‚¬ì˜ ì—¬í–‰, ë‚˜ì´íŠ¸ íˆ¬ì–´, Knight Tour, ì›ŒìŠ¤ë„í”„ ê·œì¹™, ì²´ìŠ¤ í¼ì¦, ë‘ë‡Œ ê²Œì„, ì›¹ ê²Œì„, PWA, HTML, CSS, JavaScript, ê²Œì„ ê³µëµ, ë°ë¸”ìŠ¤í”Œëœ ì‹œì¦Œ2">

  <link rel="manifest" href="manifest.json" />
  <link rel="icon" type="image/png" sizes="192x192" href="icon.png" />
  <meta name="theme-color" content="#ffffff" />

  <meta property="og:title" content="ë°ë¸”ìŠ¤í”Œëœ2 ê¸°ì‚¬ì˜ ì—¬í–‰ ê²Œì„ â€“ PWAë¡œ ì¦ê¸°ëŠ” ë‚˜ì´íŠ¸ íˆ¬ì–´!" />
  <meta property="og:description" content="ë°ë¸”ìŠ¤í”Œëœ2 'ê¸°ì‚¬ì˜ ì—¬í–‰' í¼ì¦, ì´ì œ ì›¹ì—ì„œ ì§ì ‘ í”Œë ˆì´! ë‹¤ì–‘í•œ ë³´ë“œ, íŒíŠ¸, PWA ì§€ì›. ì›ŒìŠ¤ë„í”„ ê·œì¹™ì„ ê²½í—˜í•˜ì„¸ìš”." />
  <meta property="og:image" content="open_graph.png" /> <meta property="og:url" content="https://kimsol1134.github.io/Knight_tour/" />
  <meta property="og:type" content="website" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="naver-site-verification" content="03b9aa56806bfca6aaba966d6769aa864054a86d" />
  
  <style>
    *{box-sizing:border-box}
    body{
      font-family:"Pretendard",Arial,sans-serif;
      background:#ffffff; /* 2. ì‚¬ì´íŠ¸ ë°°ê²½ì€ í•˜ì–€ìƒ‰ */
      margin:0;
      padding:2rem 1rem;
      text-align:center;
      color: #424242; /* ê¸°ë³¸ ê¸€ììƒ‰ (í°ìƒ‰ ë°°ê²½ì— ì˜ ë³´ì´ë„ë¡ ì•½ê°„ ì§„í•˜ê²Œ) */
    }
    h1{
      margin:0 0 .3rem;
      font-size:2rem;
      line-height:1.2;
      color: #333333; /* ì œëª© ìƒ‰ìƒ */
    }
    h1 .highlight-red { /* 1. "ê¸°ì‚¬ì˜ ì—¬í–‰" ê°•ì¡° */
      color: #e53935; /* ë¹¨ê°„ìƒ‰ (Material Design Red 600) */
    }
    h1 small{
      display:block;
      font-size:.9rem;
      margin-top:.2rem;
      color:#757575; /* ë¶€ì œëª© ìƒ‰ìƒ (íšŒìƒ‰ ê³„ì—´) */
    }

    #top-controls {
      margin-bottom: 1rem;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    #top-controls label {
      margin-right: .5rem;
      font-size: calc(1rem + 1px);
      font-weight: bold;
      color: #555555; /* ë ˆì´ë¸” ìƒ‰ìƒ */
    }
    #sizeSelect {
      padding: .7rem 1.1rem;
      font-size: 1.1rem;
      border:1px solid #bdbdbd; /* ì—°í•œ íšŒìƒ‰ í…Œë‘ë¦¬ */
      border-radius:6px;
      cursor:pointer;
      background-color: #f5f5f5; /* ì•½ê°„ì˜ ë°°ê²½ìƒ‰ìœ¼ë¡œ êµ¬ë¶„ */
      color: #424242;
    }
    #controls{
      display:flex;
      flex-wrap:wrap;
      justify-content:center;
      gap:.5rem;
      margin-bottom:1rem
    }
    button{
      padding:.6rem 1rem;
      font-size:1rem;
      border:1px solid transparent;
      border-radius:6px;
      cursor:pointer;
      transition: filter .15s, background-color .15s, color .15s, box-shadow .15s;
      box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24); /* ë²„íŠ¼ì— ì•½ê°„ì˜ ê·¸ë¦¼ì íš¨ê³¼ */
    }
    button:hover:not(:disabled) {
        filter: brightness(0.95);
        box-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);
    }
    button:disabled{
      cursor:not-allowed;
      opacity:.6;
      background-color: #eeeeee !important;
      color: #9e9e9e !important;
      border-color: #e0e0e0 !important;
      box-shadow: none !important;
    }

    /* ë²„íŠ¼ íŒŒìŠ¤í…”í†¤ ìƒ‰ìƒ (í°ìƒ‰ ë°°ê²½ ê³ ë ¤í•˜ì—¬ ì±„ë„/ëª…ë„ ì¡°ì •) */
    #startBtn {
      background-color: #64b5f6; /* íŒŒìŠ¤í…” ë¸”ë£¨ (ì¡°ê¸ˆ ë” ì§„í•˜ê²Œ) */
      color: white;
    }
    #undoBtn {
      background-color: #81c784; /* íŒŒìŠ¤í…” ê·¸ë¦° (ì¡°ê¸ˆ ë” ì§„í•˜ê²Œ) */
      color: white;
    }
    #hintBtn {
      background-color: #fff176; /* íŒŒìŠ¤í…” ì˜ë¡œìš° (ì¡°ê¸ˆ ë” ì§„í•˜ê²Œ) */
      color: #5d4037;
      border: 1px solid #e0e0e0;
    }
    #toggleBtn {
      background-color: #ba68c8; /* íŒŒìŠ¤í…” í¼í”Œ (ì¡°ê¸ˆ ë” ì§„í•˜ê²Œ) */
      color: white;
    }

    /* 3. ì²´ìŠ¤íŒì€ í•˜ì–€ìƒ‰ ìœ ì§€ (ê¸°ì¡´ ìŠ¤íƒ€ì¼ í™œìš©) */
    #board{display:grid;gap:2px;justify-content:center;margin:0 auto;max-width:90vw}
    .cell{
        width:90px;
        height:90px;
        background:#ffffff; /* ì²´ìŠ¤íŒ ì…€ ê¸°ë³¸ ë°°ê²½ í°ìƒ‰ */
        border:1px solid #e0e0e0; /* ì…€ í…Œë‘ë¦¬ (ì•½ê°„ ì—°í•˜ê²Œ) */
        display:flex;
        align-items:center;
        justify-content:center;
        font-size: calc(1.4rem + 20px);
        font-weight: 700;
        user-select:none;
        color: #424242; /* ì…€ ë‚´ë¶€ ìˆ«ì ê¸°ë³¸ ìƒ‰ìƒ */
        transition: background-color 0.2s ease-in-out; /* ë¶€ë“œëŸ¬ìš´ ìƒ‰ìƒ ë³€ê²½ */
    }

    /* 4. ì´ë™í•œ ì¹¸, ì´ë™í•  ìˆ˜ ìˆëŠ” ì¹¸, íŒíŠ¸ ì¹¸ íŒŒìŠ¤í…” ìƒ‰ìœ¼ë¡œ ë³€ê²½ */
    .cell.visited{ /* ì´ë™í•œ ì¹¸ */
      background:#e6e6fa; /* íŒŒìŠ¤í…” ì—°ë³´ë¼ (Lavender) */
      color: #5d5d9e; /* ëŒ€ë¹„ë˜ëŠ” ì–´ë‘ìš´ ë³´ë¼ ê³„ì—´ */
      font-weight: bold;
    }
    .cell.valid{ /* ì´ë™í•  ìˆ˜ ìˆëŠ” ì¹¸ */
      background:#c8e6c9; /* íŒŒìŠ¤í…” ì—°ë…¹ìƒ‰ */
      /* ì´ë™ ê°€ëŠ¥ í‘œì‹œëŠ” ë³´í†µ ë¹„ì–´ìˆìœ¼ë¯€ë¡œ ê¸€ììƒ‰ì€ ì¤‘ìš”í•˜ì§€ ì•Šì§€ë§Œ, ë§Œì•½ í‘œì‹œëœë‹¤ë©´ */
      /* color: #388e3c; */
      cursor: pointer; /* í´ë¦­ ê°€ëŠ¥í•¨ì„ ëª…ì‹œ */
    }
    .cell.valid:hover {
        filter: brightness(0.95);
    }
    .cell.hint{ /* íŒíŠ¸ ì¹¸ */
      background:#ffcdd2; /* íŒŒìŠ¤í…” í•‘í¬/ë ˆë“œ */
      color: #b71c1c;    /* ëŒ€ë¹„ë˜ëŠ” ì–´ë‘ìš´ ë¹¨ê°• ê³„ì—´ */
      font-weight: bold;
    }


    #status{
      margin-top:1rem;
      font-weight:600;
      font-size: calc(1em + 2px);
      color: #424242;
    }

    .guide-btn{
      display:inline-block;
      margin-top:.7rem;
      padding:.8rem 1.5rem;
      background:#ffb74d; /* íŒŒìŠ¤í…” ì˜¤ë Œì§€ (ì¡°ê¸ˆ ë” ì§„í•˜ê²Œ) */
      color:white!important;
      text-decoration:none;
      border-radius:8px;
      font-weight:600;
      transition:filter .15s, box-shadow .15s;
      font-size: 1.1rem;
      box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);
    }
    .guide-btn:hover{
        filter:brightness(.95);
        box-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);
    }
  </style>
</head>
<body>
  <h1>ë°ë¸”ìŠ¤ í”Œëœ <span class="highlight-red">ê¸°ì‚¬ì˜ ì—¬í–‰</span> ê²Œì„<small>â€“ ë‚˜ì´íŠ¸ íˆ¬ì–´ í¼ì¦ â€“</small></h1>

  <div id="top-controls">
    <label for="sizeSelect">
      ì²´ìŠ¤íŒ í¬ê¸° :
    </label>
    <select id="sizeSelect">
      <option value="5">5 Ã— 5</option>
      <option value="6">6 Ã— 6</option>
      <option value="7">7 Ã— 7</option>
      <option value="8">8 Ã— 8</option>
    </select>
  </div>

  <div id="controls">
    <button id="startBtn">ê²Œì„ ì‹œì‘</button>
    <button id="undoBtn" disabled>ë’¤ë¡œ ê°€ê¸°</button>
    <button id="hintBtn" disabled>íŒíŠ¸ ë³´ê¸°</button>
    <button id="toggleBtn">ì´ë™ ì¹¸ í‘œì‹œ OFF</button>
  </div>

  <div id="board"></div>
  <div id="status"></div>
  <a href="https://blog.naver.com/kimsol1015/223862326616" target="_blank" rel="noopener noreferrer" class="guide-btn">ê³µëµ ë³´ëŸ¬ ê°€ê¸°</a>

<script>
// (ê¸°ì¡´ JS ë™ì¼)
const boardEl=document.getElementById('board');
const sizeSelectEl=document.getElementById('sizeSelect');
const startBtn=document.getElementById('startBtn');
const undoBtn=document.getElementById('undoBtn');
const hintBtn=document.getElementById('hintBtn');
const toggleBtn=document.getElementById('toggleBtn');
const statusEl=document.getElementById('status');
const DIRS=[{dx:1,dy:2},{dx:2,dy:1},{dx:2,dy:-1},{dx:1,dy:-2},{dx:-1,dy:-2},{dx:-2,dy:-1},{dx:-2,dy:1},{dx:-1,dy:2}];
let N,visited,stack,cur,showMoves=true,lockedPath=null;
function initBoard(size){N=size;visited=Array.from({length:N},()=>Array(N).fill(false));stack=[{x:0,y:0}];cur={x:0,y:0};visited[0][0]=true;lockedPath=null;boardEl.style.gridTemplateColumns=`repeat(${N},90px)`;render();highlight();updateStatus();undoBtn.disabled=false;hintBtn.disabled=false;}
function render(){boardEl.innerHTML='';for(let y=0;y<N;y++){for(let x=0;x<N;x++){const d=document.createElement('div');d.className='cell';d.dataset.x=x;d.dataset.y=y;if(visited[y][x]){d.classList.add('visited');const idx=stack.findIndex(p=>p.x===x&&p.y===y);if(idx>=0)d.textContent=idx+1;}boardEl.appendChild(d);}}} // visited ëœ ì…€ì— ìˆ«ì í‘œì‹œ ë¡œì§ ê°•í™”
function valid(x,y){return x>=0&&y>=0&&x<N&&y<N&&!visited[y][x];}
function highlight(){document.querySelectorAll('.cell').forEach(c=>{c.classList.remove('valid','hint');});if(!showMoves)return;DIRS.forEach(({dx,dy})=>{const nx=cur.x+dx,ny=cur.y+dy;if(valid(nx,ny)){const c=document.querySelector(`.cell[data-x="${nx}"][data-y="${ny}"]`);if(c)c.classList.add('valid');}});}
function move(x,y){cur={x,y};visited[y][x]=true;stack.push({x,y});render();highlight();updateStatus();}
function undo(){if(stack.length<=1)return;const last=stack.pop();visited[last.y][last.x]=false;cur=stack[stack.length-1];lockedPath=null;render();highlight();updateStatus();}
function updateStatus(){const total=N*N,done=stack.length;statusEl.textContent=`ì´ë™ íšŸìˆ˜: ${done} / ${total}`;if(done===total){alert('ì„±ê³µí–ˆìŠµë‹ˆë‹¤! ğŸ‰');return;}if(!DIRS.some(({dx,dy})=>valid(cur.x+dx,cur.y+dy))){alert('ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ë„ì „!');lockedPath=null;}}
function onwardCnt(x,y,v){return DIRS.filter(({dx,dy})=>{const nx=x+dx,ny=y+dy;return nx>=0&&ny>=0&&nx<N&&ny<N&&!v[ny][nx];}).length;}
function buildPath(){const v=visited.map(r=>r.slice());const p=stack.slice();function dfs(x,y,c){if(c===N*N)return true;const m=DIRS.map(({dx,dy})=>({x:x+dx,y:y+dy})).filter(({x,y})=>x>=0&&y>=0&&x<N&&y<N&&!v[y][x]).sort((a,b)=>onwardCnt(a.x,a.y,v)-onwardCnt(b.x,b.y,v));for(const t of m){v[t.y][t.x]=true;p.push(t);if(dfs(t.x,t.y,c+1))return true;p.pop();v[t.y][t.x]=false;}return false;}return dfs(cur.x,cur.y,stack.length)?p:null;}
function hint(){if(!lockedPath)lockedPath=buildPath();if(lockedPath){const n=lockedPath[stack.length];if(n){document.querySelectorAll('.cell.hint').forEach(c => c.classList.remove('hint')); /* ê¸°ì¡´ íŒíŠ¸ ì œê±° */ const c=document.querySelector(`.cell[data-x="${n.x}"][data-y="${n.y}"]`);if(c)c.classList.add('hint');}else alert('ë” ì´ìƒ íŒíŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤!');}else alert('ì„±ê³µ ê²½ë¡œê°€ ì—†ìŠµë‹ˆë‹¤.');}
function toggleShow(){showMoves=!showMoves;toggleBtn.textContent=showMoves?'ì´ë™ ì¹¸ í‘œì‹œ OFF':'ì´ë™ ì¹¸ í‘œì‹œ ON';highlight();}
boardEl.addEventListener('click',e=>{const cell=e.target.closest('.cell');if(!cell) return; const x = +cell.dataset.x; const y = +cell.dataset.y; if (cell.classList.contains('valid')) { move(x,y); }}); // valid í´ë˜ìŠ¤ê°€ ìˆëŠ” ê²½ìš°ì—ë§Œ move ì‹¤í–‰
startBtn.addEventListener('click',()=>initBoard(+sizeSelectEl.value));undoBtn.addEventListener('click',undo);hintBtn.addEventListener('click',hint);toggleBtn.addEventListener('click',toggleShow);
initBoard(5);
// ---- PWA ServiceWorker ë“±ë¡ ----
if('serviceWorker' in navigator){window.addEventListener('load',()=>navigator.serviceWorker.register('sw.js').catch(console.error));}
</script>
</body>
</html>